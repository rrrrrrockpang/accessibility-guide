
<!DOCTYPE html>
<html lang="en-US">
<head>
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=Edge">
<link rel="stylesheet" href="/assets/css/just-the-docs-default.css">
 <style type="text/css">
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(3) > .nav-list > .nav-list-item:nth-child(3) > .nav-list-link {
  display: block;
  font-weight: 600;
  text-decoration: none;
  background-image: linear-gradient(-90deg, #ebedf5 0%, rgba(235, 237, 245, 0.8) 80%, rgba(235, 237, 245, 0) 100%);
}
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(3) > .nav-list-expander svg,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(3) > .nav-list > .nav-list-item:nth-child(3) > .nav-list-expander svg {
  transform: rotate(-90deg);
}
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(3) > .nav-list,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(3) > .nav-list > .nav-list-item:nth-child(3) > .nav-list {
  display: block;
}
.site-nav > .nav-category-list > .nav-list-item > .nav-list-expander svg {
  transform: rotate(-90deg);
}
.site-nav > .nav-category-list > .nav-list-item > .nav-list {
  display: block;
}
</style>
    <script src="/assets/js/vendor/lunr.min.js"></script>
  <script src="/assets/js/just-the-docs.js"></script>
 <meta name="viewport" content="width=device-width, initial-scale=1">
<title>Instructions and Loggings | Accessibility Guide</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Instructions and Loggings" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A guide to make your class materials more accessible." />
<meta property="og:description" content="A guide to make your class materials more accessible." />
<link rel="canonical" href="http://localhost:4000/docs/notebook/instruction" />
<meta property="og:url" content="http://localhost:4000/docs/notebook/instruction" />
<meta property="og:site_name" content="Accessibility Guide" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Instructions and Loggings" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"A guide to make your class materials more accessible.","headline":"Instructions and Loggings","url":"http://localhost:4000/docs/notebook/instruction"}</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css"
    integrity="sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js"
    integrity="sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      renderMathInElement(document.body, {
        // customised options
        // • auto-render specific keys, e.g.:
        delimiters: [
          { left: '$$', right: '$$', display: true },
          { left: '$', right: '$', display: false },
          { left: '\\(', right: '\\)', display: false },
          { left: '\\[', right: '\\]', display: true }
        ],
        // • rendering keys, e.g.:
        throwOnError: false
      });
    });
  </script>
<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
 <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
   <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
 <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
   <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
 <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
   <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
 <title id="svg-external-link-title">(external link)</title>
 <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
 <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
   <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
 <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>
<symbol id="svg-copy" viewBox="0 0 16 16">
 <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
   <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
   <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
 <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
   <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
   <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>
</svg>
 <div class="side-bar">
 <div class="site-header" role="banner">
    <a href="/" class="site-title lh-tight">
  Accessibility Guide
</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
 </div>
 <nav aria-label="Main" id="site-nav" class="site-nav">
     <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in PowerPoint Accessibility category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/PowerPoint" class="nav-list-link">PowerPoint Accessibility</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/PowerPoint/check-accessibility/" class="nav-list-link">Check Accessibility</a><li class="nav-list-item"><a href="/docs/PowerPoint/check-reading/" class="nav-list-link">Check Reading Order</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Add Alternative Text category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/docs/PowerPoint/add-alt-text/" class="nav-list-link">Add Alternative Text</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/docs/PowerPoint/add-alt-text/how-to-add-alt-text/" class="nav-list-link">How to add alt text</a>
             <li class="nav-list-item">
                <a href="/docs/PowerPoint/add-alt-text/02-automatic-alt-text-generation/" class="nav-list-link">Automatic Alt Text Generation</a>
             <li class="nav-list-item">
                <a href="/docs/PowerPoint/add-alt-text/03-decorative/" class="nav-list-link">Mark Image as Decorative</a>
             <li class="nav-list-item">
                <a href="/docs/PowerPoint/add-alt-text/04-group-image/" class="nav-list-link">Group Images on PowerPoint</a>
             <li class="nav-list-item">
                <a href="/docs/PowerPoint/add-alt-text/05-animation/" class="nav-list-link">Make Animation Accessible</a>
             </ul><li class="nav-list-item"><a href="/docs/PowerPoint/add-latex-to-math/" class="nav-list-link">Add Latex for Math Notations</a><li class="nav-list-item"><a href="/docs/PowerPoint/mermaid/" class="nav-list-link">Represent Flowcharts and Graphs with Mermaid</a><li class="nav-list-item"><a href="/docs/PowerPoint/tectile-graphics/" class="nav-list-link">Create Tactile Graphics</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Computational Notebook Accessibility category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/docs/notebook" class="nav-list-link">Computational Notebook Accessibility</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/notebook/organize" class="nav-list-link">Organize Your Computational Notebook</a><li class="nav-list-item"><a href="/docs/notebook/setup" class="nav-list-link">Set up your Server Environment</a><li class="nav-list-item"><a href="/docs/notebook/instruction" class="nav-list-link">Instructions and Loggings</a></ul><li class="nav-list-item"><a href="/docs/homework" class="nav-list-link">Homework Write-up Accessibility</a><li class="nav-list-item"><a href="/docs/resources" class="nav-list-link">Useful Resources</a></ul>
 </nav>
   <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
   </footer>
</div>
 <div class="main" id="top">
   <div id="main-header" class="main-header">
<div class="search" role="search">
 <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Accessibility Guide" aria-label="Search Accessibility Guide" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
 </div>
 <div id="search-results" class="search-results"></div>
</div>
</div>
   <div class="main-content-wrap">
     <nav aria-label="Breadcrumb" class="breadcrumb-nav">
 <ol class="breadcrumb-nav-list">
   <li class="breadcrumb-nav-list-item"><a href="/docs/notebook">Computational Notebook Accessibility</a>
 <li class="breadcrumb-nav-list-item"><span>Instructions and Loggings</span>
 </ol>
</nav>
     <div id="main-content" class="main-content">
       <main>
           <h1 class="fs-9" id="instructions-and-loggings">
    <a href="#instructions-and-loggings" class="anchor-heading" aria-labelledby="instructions-and-loggings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instructions and Loggings
</h1>
<p>This section will show you how to add instructions and loggings to your computational notebooks.</p>
<h2 id="1-add-instructions">
    <a href="#1-add-instructions" class="anchor-heading" aria-labelledby="1-add-instructions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Add Instructions.
</h2>
<p>When we create many Python scripts, the data folder, and the log folder, we add more complexity to the folder structure. Have a .md file that tells students what these scripts are doing as well as clear expectations (i.e., the Colab coding questions) of the activity. You can find the question.md file in my <a href="/docs/notebook/organize#2-divide-the-colab-document-into-separate-python-scripts">GitHub screenshot</a>.</p>
<p>We usually have the students submit the homework Colab assignment on canvas or Gradescope. It is much easier for BVI students to submit their answers on the .md file, instead of having to navigate multiple web platforms.</p>
<h2 id="2-add-loggings">
    <a href="#2-add-loggings" class="anchor-heading" aria-labelledby="2-add-loggings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Add Loggings.
</h2>
<p>We also recommend adding loggings to your computational notebooks and the Python scripts. This will be helpful for students to debug their code.</p>
<p>When you have a <code class="language-plaintext highlighter-rouge">print</code> statement, you should also <code class="language-plaintext highlighter-rouge">log</code> these statements to a log folder. This is important for students with visual impairment to debug their code. When you print a lot of statements in the terminal, you cannot easily scroll up or copy-and-paste the terminal output for screen reader users.</p>
<p class="note">To log your output, please use the <a href="https://docs.python.org/3/library/logging.html">logging package</a> and refer to this <a href="https://towardsdatascience.com/stop-using-print-and-start-using-logging-a3f50bc8ab0">blog post</a>.</p>
<h2 id="3-below-is-an-example-of-logging-in-python">
    <a href="#3-below-is-an-example-of-logging-in-python" class="anchor-heading" aria-labelledby="3-below-is-an-example-of-logging-in-python"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Below is an example of logging in Python.
</h2>
<p class="note">Note that we use <code class="language-plaintext highlighter-rouge">logger.info</code> to log the output. We include clear documentation of the question, housekeeping information, and step 1. The output is logged to <code class="language-plaintext highlighter-rouge">./log/section_1.log</code>.</p>
<p class="note">We also include an estimated running time for the key step. This is important for students with visual impairment to understand how long it takes to run the code, or they simply run into glitch in the server.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Question 1: How many titles of each type are in the IMDB dataset?
# Keywords: Dataframe API, SQL, group by, sort
# check ./log/section_1.log for the output
</span>
<span class="c1"># Load libraries
</span><span class="kn">import</span> <span class="n">pyspark</span><span class="p">,</span> <span class="n">logging</span>
<span class="kn">from</span> <span class="n">pyspark.sql</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="n">pyspark.sql.functions</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1">## Housekeeping: setup code to read intermediate datasets
</span><span class="k">def</span> <span class="nf">script_filter</span><span class="p">(</span><span class="n">record</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">record</span><span class="p">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">__name__</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
    
<span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nc">StreamHandler</span><span class="p">()</span>
<span class="n">handler</span><span class="p">.</span><span class="n">filters</span> <span class="o">=</span> <span class="p">[</span><span class="n">script_filter</span><span class="p">]</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nf">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">logger</span><span class="p">.</span><span class="nf">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
<span class="n">fh</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nc">FileHandler</span><span class="p">(</span><span class="sh">'</span><span class="s">./log/section_1.log</span><span class="sh">'</span><span class="p">,</span> <span class="sh">"</span><span class="s">w+</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># write to file
</span><span class="n">logger</span><span class="p">.</span><span class="nf">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="n">logger</span><span class="p">.</span><span class="nf">addHandler</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>

<span class="c1"># Create a SparkSession
</span><span class="n">spark</span> <span class="o">=</span> <span class="n">SparkSession</span><span class="p">.</span><span class="n">builder</span><span class="p">.</span><span class="nf">config</span><span class="p">(</span><span class="sh">"</span><span class="s">spark.driver.memory</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">4g</span><span class="sh">"</span><span class="p">).</span><span class="nf">getOrCreate</span><span class="p">()</span>

<span class="c1"># Load the datasets
</span><span class="n">Titles</span> <span class="o">=</span> <span class="n">spark</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="nf">csv</span><span class="p">(</span><span class="sh">"</span><span class="s">data/title.basics.tsv</span><span class="sh">"</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="sh">'</span><span class="se">\t</span><span class="sh">'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">Principals</span> <span class="o">=</span> <span class="n">spark</span><span class="p">.</span><span class="n">read</span><span class="p">.</span><span class="nf">csv</span><span class="p">(</span><span class="sh">"</span><span class="s">data/title.principals.tsv</span><span class="sh">"</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="sh">'</span><span class="se">\t</span><span class="sh">'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="c1">## End of Housekeeping.
</span>
<span class="c1"># This is the description in Google Colab as well.
# Step 1: IMDB lists many different kinds of media -- movies, video games, TV episodes, etc. Let's group the IMDB titles by titleType and count how many records exist belonging to each title type:
# The estimated running time is &lt; 1 sec.
</span><span class="n">title_type_counts</span> <span class="o">=</span> <span class="n">Titles</span><span class="p">.</span><span class="nf">groupBy</span><span class="p">(</span><span class="sh">"</span><span class="s">titleType</span><span class="sh">"</span><span class="p">)</span> \
    <span class="p">.</span><span class="nf">agg</span><span class="p">(</span><span class="nf">count</span><span class="p">(</span><span class="sh">"</span><span class="s">*</span><span class="sh">"</span><span class="p">).</span><span class="nf">alias</span><span class="p">(</span><span class="sh">"</span><span class="s">numTitles</span><span class="sh">"</span><span class="p">))</span> \
    <span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="nf">desc</span><span class="p">(</span><span class="sh">"</span><span class="s">numTitles</span><span class="sh">"</span><span class="p">))</span>

<span class="c1"># Log the output
</span><span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">Step 1: {}</span><span class="sh">"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">title_type_counts</span><span class="p">))</span>
</code></pre></div></div>
       </main>
 <hr>
 <footer>
     <p><a href="#top" id="back-to-top">Back to top</a></p>
     <div class="d-flex mt-2">
         <p class="text-small text-grey-dk-000 mb-0">
            <a href="https://github.com/rrrrrrockpang/accessibility-guide/tree/main/docs/Notebook/Instruction.md" id="edit-this-page">Edit this page on GitHub</a>
         </p>
     </div>
 </footer>
     </div>
   </div>
<div class="search-overlay"></div>
 </div>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script>
<script>
  var config = {}
;
  mermaid.initialize(config);
  window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>
  
